{"tests": [{"data": {"status": "failure", "tool_id": "Tasmanian", "time_seconds": 22.204636812210083, "inputs": {"reference_source|reference_source_selector": "history", "reference_source|ref_file": {"src": "hda", "id": "5729865256bc2525"}, "input1": {"src": "hda", "id": "2891970512fa2d5a"}}, "tool_version": "0.1.0", "output_problems": ["Job in error state.", "Job in error state."], "job": {"stdout": "", "job_stderr": "WARNING:galaxy.model:Datatype class not found for extension 'output'\nWARNING:galaxy.model:Datatype class not found for extension 'output'\nWARNING:galaxy.model:Datatype class not found for extension 'output'\nWARNING:galaxy.model:Datatype class not found for extension 'output'\nWARNING:galaxy.model:Datatype class not found for extension 'output'\n", "create_time": "2020-02-29T20:03:06.549568", "id": "54f2a3a23292eb07", "command_line": "ln -s '/private/var/folders/23/72zvgxhx7yxd_q5kyb_vdt9w0000gq/T/tmp3x4utosh/files/6/8/0/dataset_680a470b-1e02-43a5-9065-83fc45e6781c.dat' 'localref.fa' &&  samtools view '/private/var/folders/23/72zvgxhx7yxd_q5kyb_vdt9w0000gq/T/tmp3x4utosh/files/4/c/c/dataset_4cc34ea5-8734-4b2f-b79d-c666e4d67281.dat' | python '/Users/aerijman/Documents/projects/tasmanian/tasmanian/galaxy_wrapper/tasmanian_galaxy,py' -r 'localref.fa' > '/private/var/folders/23/72zvgxhx7yxd_q5kyb_vdt9w0000gq/T/tmp3x4utosh/files/c/8/c/dataset_c8c0f6b4-7b55-45bf-9a17-b314fe7a0054.dat'", "exit_code": 2, "tool_stderr": "python: can't open file '/Users/aerijman/Documents/projects/tasmanian/tasmanian/galaxy_wrapper/tasmanian_galaxy,py': [Errno 2] No such file or directory\nsamtools view: error closing standard output: -1\n", "tool_id": "Tasmanian", "params": {"reference_source": "{\"__current_case__\": 1, \"ref_file\": {\"values\": [{\"id\": 2, \"src\": \"hda\"}]}, \"reference_source_selector\": \"history\"}", "chromInfo": "\"/private/var/folders/23/72zvgxhx7yxd_q5kyb_vdt9w0000gq/T/tmp3x4utosh/galaxy-dev/tool-data/shared/ucsc/chrom/?.len\"", "__input_ext": "\"bam\"", "dbkey": "\"?\""}, "tool_stdout": "", "job_messages": [{"type": "exit_code", "error_level": 3, "code_desc": "", "exit_code": 2, "desc": "Fatal error: Exit code 2 ()"}], "inputs": {"ref_file": {"src": "hda", "id": "5729865256bc2525", "uuid": "680a470b-1e02-43a5-9065-83fc45e6781c"}, "input1": {"src": "hda", "id": "2891970512fa2d5a", "uuid": "4cc34ea5-8734-4b2f-b79d-c666e4d67281"}}, "update_time": "2020-02-29T20:03:11.893341", "state": "error", "outputs": {"html_file": {"src": "hda", "id": "8155e4b4bf1581ff", "uuid": "c14f41b5-b57e-4f91-94a4-a7199ae5ffc6"}, "output1": {"src": "hda", "id": "54f2a3a23292eb07", "uuid": "c8c0f6b4-7b55-45bf-9a17-b314fe7a0054"}}, "history_id": "2891970512fa2d5a", "command_version": "", "job_metrics": [], "job_stdout": "", "galaxy_version": "20.01", "stderr": "python: can't open file '/Users/aerijman/Documents/projects/tasmanian/tasmanian/galaxy_wrapper/tasmanian_galaxy,py': [Errno 2] No such file or directory\nsamtools view: error closing standard output: -1\n\nWARNING:galaxy.model:Datatype class not found for extension 'output'\nWARNING:galaxy.model:Datatype class not found for extension 'output'\nWARNING:galaxy.model:Datatype class not found for extension 'output'\nWARNING:galaxy.model:Datatype class not found for extension 'output'\nWARNING:galaxy.model:Datatype class not found for extension 'output'\n", "model_class": "Job", "external_id": "12692", "user_email": "test@bx.psu.edu"}, "test_index": 0, "problem_type": "galaxy.tool_util.verify.interactor.JobOutputsError", "problem_log": "  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/unittest/case.py\", line 329, in run\n    testMethod()\n  File \"/private/var/folders/23/72zvgxhx7yxd_q5kyb_vdt9w0000gq/T/tmp3x4utosh/galaxy-dev/test/functional/test_toolbox.py\", line 99, in test_tool\n    self.do_it(tool_version=tool_version, test_index=test_index)\n  File \"/private/var/folders/23/72zvgxhx7yxd_q5kyb_vdt9w0000gq/T/tmp3x4utosh/galaxy-dev/test/functional/test_toolbox.py\", line 36, in do_it\n    verify_tool(tool_id, self.galaxy_interactor, resource_parameters=resource_parameters, test_index=test_index, tool_version=tool_version, register_job_data=register_job_data)\n  File \"/private/var/folders/23/72zvgxhx7yxd_q5kyb_vdt9w0000gq/T/tmp3x4utosh/galaxy-dev/lib/galaxy/tool_util/verify/interactor.py\", line 789, in verify_tool\n    raise e\nJob in error state.\nJob in error state.\n-------------------- >> begin captured stdout << ---------------------\nProblem in history with id 2891970512fa2d5a - summary of history's datasets and jobs below.\n--------------------------------------\n| 1 - test2.bam (HID - NAME) \n| Dataset State:\n|  ok\n| Dataset Blurb:\n|  1017 bytes\n| Dataset Info:\n|  uploaded bam file\n| Peek:\n|  Binary bam alignments file\n| Dataset Job Standard Output:\n|  *Standard output was empty.*\n| Dataset Job Standard Error:\n|  *Standard error was empty.*\n|\n--------------------------------------\n| 2 - small_region.fa (HID - NAME) \n| Dataset State:\n|  ok\n| Dataset Blurb:\n|  1 sequences\n| Dataset Info:\n|  uploaded fasta file\n| Peek:\n|  <table cellspacing=\"0\" cellpadding=\"3\"><tr><td>&gt;chrM</td></tr><tr><td>TCCTCAGAAAATGGATTTTTCTTTTCTATCACAGTGTCATGCTACAAATTTTCTGAACGTTTATGCTCTG</td></tr><tr><td>TTTTCCTGTTAAAACTGAGTGCTTTTAACACACCCAAGTCACTCTTGAATGATTTGCTGCTTAGAAATTT</td></tr><tr><td>CTTCTGCCAGATACCCTAACTCATCTCCCTCAAGTTCAAAGTTCCACAAATCTCTAGGGCAGGGACAAAA</td></tr><tr><td>TGCTGCCAGTCTCTCTCGATAGCAAGAGACACCTTTACTCCAGTTCCCATTGAGTTCCTCATCTCCATCT</td></tr></table>\n| Dataset Job Standard Output:\n|  *Standard output was empty.*\n| Dataset Job Standard Error:\n|  *Standard error was empty.*\n|\n--------------------------------------\n| 3 - Analysis of artifacts with Tasmanian on data 2 and data 1 (HID - NAME) \n| Dataset State:\n|  error\n| Dataset Blurb:\n|  error\n| Dataset Info:\n|  python: can't open file '/Users/aerijman/Documents/projects/tasmanian/tasmanian/galaxy_wrapper/tasmanian_galaxy,py': [Errno 2] No such file or directory\n|  samtools view: error closing standard output: -1\n|  WARNING:galaxy.model:Datatype class not found for e\n| Peek:\n|  None\n| Dataset Job Standard Output:\n|  *Standard output was empty.*\n| Dataset Job Standard Error:\n|  python: can't open file '/Users/aerijman/Documents/projects/tasmanian/tasmanian/galaxy_wrapper/tasmanian_galaxy,py': [Errno 2] No such file or directory\n|  samtools view: error closing standard output: -1\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|\n--------------------------------------\n| 4 - Tasmanian results (HID - NAME) \n| Dataset State:\n|  error\n| Dataset Blurb:\n|  error\n| Dataset Info:\n|  python: can't open file '/Users/aerijman/Documents/projects/tasmanian/tasmanian/galaxy_wrapper/tasmanian_galaxy,py': [Errno 2] No such file or directory\n|  samtools view: error closing standard output: -1\n|  WARNING:galaxy.model:Datatype class not found for e\n| Peek:\n|  None\n| Dataset Job Standard Output:\n|  *Standard output was empty.*\n| Dataset Job Standard Error:\n|  python: can't open file '/Users/aerijman/Documents/projects/tasmanian/tasmanian/galaxy_wrapper/tasmanian_galaxy,py': [Errno 2] No such file or directory\n|  samtools view: error closing standard output: -1\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|\n--------------------------------------\n| Job 54f2a3a23292eb07\n| State: \n|  error\n| Update Time:\n|  2020-02-29T20:03:11.893341\n| Create Time:\n|  2020-02-29T20:03:06.549568\n|\n--------------------------------------\n| Job 5729865256bc2525\n| State: \n|  ok\n| Update Time:\n|  2020-02-29T20:03:04.817026\n| Create Time:\n|  2020-02-29T20:02:59.651081\n|\n--------------------------------------\n| Job 2891970512fa2d5a\n| State: \n|  ok\n| Update Time:\n|  2020-02-29T20:02:59.136719\n| Create Time:\n|  2020-02-29T20:02:52.710505\n|\n--------------------------------------\nProblem in history with id 2891970512fa2d5a - summary of history's datasets and jobs below.\n--------------------------------------\n| 1 - test2.bam (HID - NAME) \n| Dataset State:\n|  ok\n| Dataset Blurb:\n|  1017 bytes\n| Dataset Info:\n|  uploaded bam file\n| Peek:\n|  Binary bam alignments file\n| Dataset Job Standard Output:\n|  *Standard output was empty.*\n| Dataset Job Standard Error:\n|  *Standard error was empty.*\n|\n--------------------------------------\n| 2 - small_region.fa (HID - NAME) \n| Dataset State:\n|  ok\n| Dataset Blurb:\n|  1 sequences\n| Dataset Info:\n|  uploaded fasta file\n| Peek:\n|  <table cellspacing=\"0\" cellpadding=\"3\"><tr><td>&gt;chrM</td></tr><tr><td>TCCTCAGAAAATGGATTTTTCTTTTCTATCACAGTGTCATGCTACAAATTTTCTGAACGTTTATGCTCTG</td></tr><tr><td>TTTTCCTGTTAAAACTGAGTGCTTTTAACACACCCAAGTCACTCTTGAATGATTTGCTGCTTAGAAATTT</td></tr><tr><td>CTTCTGCCAGATACCCTAACTCATCTCCCTCAAGTTCAAAGTTCCACAAATCTCTAGGGCAGGGACAAAA</td></tr><tr><td>TGCTGCCAGTCTCTCTCGATAGCAAGAGACACCTTTACTCCAGTTCCCATTGAGTTCCTCATCTCCATCT</td></tr></table>\n| Dataset Job Standard Output:\n|  *Standard output was empty.*\n| Dataset Job Standard Error:\n|  *Standard error was empty.*\n|\n--------------------------------------\n| 3 - Analysis of artifacts with Tasmanian on data 2 and data 1 (HID - NAME) \n| Dataset State:\n|  error\n| Dataset Blurb:\n|  error\n| Dataset Info:\n|  python: can't open file '/Users/aerijman/Documents/projects/tasmanian/tasmanian/galaxy_wrapper/tasmanian_galaxy,py': [Errno 2] No such file or directory\n|  samtools view: error closing standard output: -1\n|  WARNING:galaxy.model:Datatype class not found for e\n| Peek:\n|  None\n| Dataset Job Standard Output:\n|  *Standard output was empty.*\n| Dataset Job Standard Error:\n|  python: can't open file '/Users/aerijman/Documents/projects/tasmanian/tasmanian/galaxy_wrapper/tasmanian_galaxy,py': [Errno 2] No such file or directory\n|  samtools view: error closing standard output: -1\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|\n--------------------------------------\n| 4 - Tasmanian results (HID - NAME) \n| Dataset State:\n|  error\n| Dataset Blurb:\n|  error\n| Dataset Info:\n|  python: can't open file '/Users/aerijman/Documents/projects/tasmanian/tasmanian/galaxy_wrapper/tasmanian_galaxy,py': [Errno 2] No such file or directory\n|  samtools view: error closing standard output: -1\n|  WARNING:galaxy.model:Datatype class not found for e\n| Peek:\n|  None\n| Dataset Job Standard Output:\n|  *Standard output was empty.*\n| Dataset Job Standard Error:\n|  python: can't open file '/Users/aerijman/Documents/projects/tasmanian/tasmanian/galaxy_wrapper/tasmanian_galaxy,py': [Errno 2] No such file or directory\n|  samtools view: error closing standard output: -1\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|  WARNING:galaxy.model:Datatype class not found for extension 'output'\n|\n--------------------------------------\n| Job 54f2a3a23292eb07\n| State: \n|  error\n| Update Time:\n|  2020-02-29T20:03:11.893341\n| Create Time:\n|  2020-02-29T20:03:06.549568\n|\n--------------------------------------\n| Job 5729865256bc2525\n| State: \n|  ok\n| Update Time:\n|  2020-02-29T20:03:04.817026\n| Create Time:\n|  2020-02-29T20:02:59.651081\n|\n--------------------------------------\n| Job 2891970512fa2d5a\n| State: \n|  ok\n| Update Time:\n|  2020-02-29T20:02:59.136719\n| Create Time:\n|  2020-02-29T20:02:52.710505\n|\n--------------------------------------\n\n--------------------- >> end captured stdout << ----------------------"}, "id": "functional.test_toolbox.TestForTool_Tasmanian.test_tool_000000", "has_data": true}, {"data": {"status": "error", "tool_id": "Tasmanian", "time_seconds": 7.002073049545288, "inputs": {"reference_source|reference_source_selector": "cached", "input1": {"src": "hda", "id": "7b55dbb89df8f4e5"}}, "tool_version": "0.1.0", "test_index": 1, "execution_problem": "Error creating a job for these tool inputs - parameter 'ref_file': an invalid option (None) was selected, please verify", "problem_type": "galaxy.tool_util.verify.interactor.RunToolException", "problem_log": "Traceback (most recent call last):\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/unittest/case.py\", line 329, in run\n    testMethod()\n  File \"/private/var/folders/23/72zvgxhx7yxd_q5kyb_vdt9w0000gq/T/tmp3x4utosh/galaxy-dev/test/functional/test_toolbox.py\", line 99, in test_tool\n    self.do_it(tool_version=tool_version, test_index=test_index)\n  File \"/private/var/folders/23/72zvgxhx7yxd_q5kyb_vdt9w0000gq/T/tmp3x4utosh/galaxy-dev/test/functional/test_toolbox.py\", line 36, in do_it\n    verify_tool(tool_id, self.galaxy_interactor, resource_parameters=resource_parameters, test_index=test_index, tool_version=tool_version, register_job_data=register_job_data)\n  File \"/private/var/folders/23/72zvgxhx7yxd_q5kyb_vdt9w0000gq/T/tmp3x4utosh/galaxy-dev/lib/galaxy/tool_util/verify/interactor.py\", line 774, in verify_tool\n    raise e\nRunToolException: Error creating a job for these tool inputs - parameter 'ref_file': an invalid option (None) was selected, please verify\n"}, "id": "functional.test_toolbox.TestForTool_Tasmanian.test_tool_000001", "has_data": true}], "version": "0.1", "summary": {"num_tests": 2, "num_failures": 1, "num_errors": 1, "num_skips": 0}, "exit_code": 1}